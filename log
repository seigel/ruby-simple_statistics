/home/paul/workspace/c_to_ruby/ruby-simple_statistics/simple_statistics.gemspec:30: warning: Insecure world writable dir /home/paul/.rvm/gems/ruby-2.1.1/bin in PATH, mode 040777
ruby extconf.rb --enable-static
creating Makefile
make
compiling sstat.c
In file included from lib/survival_func.h:7:0,
                 from lib/survival.h:4,
                 from sstat.h:6,
                 from sstat.c:1:
lib/survival_utility.h: In function ‘create_sorted_unique_array’:
lib/survival_utility.h:16:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  int count;
  ^
lib/survival_utility.h:30:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  double * unique_arr = (double *) malloc(count * sizeof(double));
  ^
lib/survival_utility.h: In function ‘merge_two_array’:
lib/survival_utility.h:58:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  int total_size = size_1 + size_2;
  ^
lib/survival_utility.h: In function ‘group_N_self_range’:
lib/survival_utility.h:112:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  int count = 0;
  ^
lib/survival_utility.h:134:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  double* unique_uncensored_time = (double *) malloc(count * sizeof(double));
  ^
lib/survival_utility.h:163:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  int* uncensored_num = (int *) malloc(count * sizeof(int));
  ^
lib/survival_utility.h:203:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  Group_N at_risk_result;
  ^
lib/survival_utility.h: In function ‘group_N_given_range’:
lib/survival_utility.h:232:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  int* uncensored_num = (int *) malloc(unique_time_size * sizeof(int));
  ^
lib/survival_utility.h:282:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  Group_N at_risk_result;
  ^
lib/survival_utility.h:216:9: warning: unused variable ‘tmp’ [-Wunused-variable]
  double tmp, time_at;
         ^
In file included from lib/survival.h:4:0,
                 from sstat.h:6,
                 from sstat.c:1:
lib/survival_func.h: In function ‘log_rank_test’:
lib/survival_func.h:71:26: warning: assignment makes pointer from integer without a cast
  combined_Group_N_2.time = merged_uniq_time_pnts.size;
                          ^
lib/survival_func.h:75:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  int* N1_at_risk = (int*) malloc(time_pnt_size * sizeof(int));
  ^
lib/survival_func.h: In function ‘kaplan_meier’:
lib/survival_func.h:167:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  struct point* KM = (struct point*) malloc(at_risk.size * sizeof(struct point));
  ^
lib/survival_func.h:182:2: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  curve KM_curve;
  ^
sstat.c: In function ‘rb_kaplan_meier’:
sstat.c:53:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   VALUE KM_x = rb_ary_new2(KM_curve.size);
   ^
linking shared-object sstat.so
cp ext/sstat.so lib/
